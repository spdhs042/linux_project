<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“Š ê´€ë¦¬ì í†µê³„ ëŒ€ì‹œë³´ë“œ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h2>ğŸ“Š ìŠ¬ë¼ì´ë“œë³„ O/X í†µê³„í‘œ</h2>

  <table border="1" cellpadding="10" style="width: 50%; border-collapse: collapse;">
    <tr>
      <th>ìŠ¬ë¼ì´ë“œ ë²ˆí˜¸</th>
      <th>â­• O</th>
      <th>âŒ X</th>
    </tr>
    {% for slide_idx, count in stats.items() %}
    <tr>
      <td>{{ slide_idx }}</td>
      <td>{{ count.get('O', 0) }}</td>
      <td>{{ count.get('X', 0) }}</td>
    </tr>
    {% endfor %}
  </table>

  <hr>

  <h3>ğŸ“ˆ ìŠ¬ë¼ì´ë“œë³„ O/X ì‘ë‹µ ê·¸ë˜í”„</h3>
  <canvas id="oxChart" width="600" height="300"></canvas>

  <script>
    const ctx = document.getElementById('oxChart').getContext('2d');
    const oxChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: {{ labels|tojson }},
        datasets: [
          {
            label: 'â­• O',
            data: {{ o_counts|tojson }},
            backgroundColor: 'rgba(75, 192, 192, 0.7)'
          },
          {
            label: 'âŒ X',
            data: {{ x_counts|tojson }},
            backgroundColor: 'rgba(255, 99, 132, 0.7)'
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'top' },
          title: {
            display: true,
            text: 'ìŠ¬ë¼ì´ë“œë³„ O/X ì‘ë‹µ í†µê³„'
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            ticks: { stepSize: 1 }
          }
        }
      }
    });
  </script>
</body>
</html>
